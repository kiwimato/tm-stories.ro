"use strict";(self["webpackChunktm_stories"]=self["webpackChunktm_stories"]||[]).push([[161],{5127:function(t,e,o){o.r(e),o.d(e,{default:function(){return k}});var a=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"page-container"},[e("div",{staticClass:"intro-container"},[t._m(0),e("div",{staticClass:"intro-text"},[e("h2",{staticClass:"text-white page-title"},[t._v(" "+t._s(t.$t("menu.photos"))+" ")])]),e("div",{key:"main-image",staticClass:"main-image animated avoid-clicks"})]),e("div",{staticClass:"content-container"},[e("masonry",{attrs:{items:t.imgsArr,loading:t.loading}})],1)])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"photo-container"},[e("div",{staticClass:"building-1"}),e("div",{staticClass:"building-3"})])}],l=(o(7658),JSON.parse('[{"url":"/photo-gallery/3_aug_min.jpg"},{"url":"/photo-gallery/carmen_sylva_min.jpg"},{"url":"/photo-gallery/casino_tiszti_min.jpg"},{"url":"/photo-gallery/cathedral_build_min.jpg"},{"url":"/photo-gallery/dom_square_min.jpg"},{"url":"/photo-gallery/dom2_min.jpg"},{"url":"/photo-gallery/iosefini_1_min.jpg"},{"url":"/photo-gallery/iosefini_2_min.jpg"},{"url":"/photo-gallery/iosefini_3_min.jpg"},{"url":"/photo-gallery/kuttl_min.jpg"},{"url":"/photo-gallery/neptun_min.png"},{"url":"/photo-gallery/notre_dame_2_min.png"},{"url":"/photo-gallery/opera_hotel_central_min.png"},{"url":"/photo-gallery/opera_min.jpg"},{"url":"/photo-gallery/palatul_lloyd_min.png"},{"url":"/photo-gallery/palatul_loffler_min.jpg"},{"url":"/photo-gallery/piata_libertatii_min.png"},{"url":"/photo-gallery/piata_printul_eugen_min.jpg"},{"url":"/photo-gallery/piata_sf_gheorghe_min.jpg"},{"url":"/photo-gallery/podul_decebal_min.jpg"},{"url":"/photo-gallery/scoala_de_cadeti_min.jpg"},{"url":"/photo-gallery/timi_1_min.jpg"},{"url":"/photo-gallery/timi_2_min.jpg"},{"url":"/photo-gallery/timi_3_min.jpg"},{"url":"/photo-gallery/timi_4_min.jpg"},{"url":"/photo-gallery/vechea_gara_min.png"},{"url":"/photo-gallery/vechea_gara_1_min.png"}]')),r=o(9669),n=o.n(r),s=function(){var t=this,e=t._self._c;return e("div",{ref:"container",staticClass:"masonry"},[t.loading&&!t.items.length?e("loader"):t._e(),t.items.length?e("div",{staticClass:"photos-container"},t._l(t.items,(function(o,a){return e("div",{key:a,staticClass:"photo pointer",on:{click:function(e){return t.onPhotoClick(o)}}},[e("img",{attrs:{src:`data:image/png;base64, ${o}`}})])})),0):t._e(),t.loading&&t.items.length>0?e("loader",{attrs:{width:t.computedWidth}}):t._e(),t.showPhotoModal?e("tm-modal",{attrs:{img:t.selectedImg},on:{close:t.closeModal}}):t._e()],1)},g=[],h=o(2760),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal"},[e("div",{staticClass:"background",on:{click:t.close}},[e("div",{staticClass:"modal-card animate__animated",class:[t.zoomIn?"animate__zoomIn":"animate__zoomOut"]},[e("img",{staticClass:"image",attrs:{src:`data:image/png;base64, ${t.img}`}})])])])},c=[],p={name:"TMModal",props:{img:{type:String,required:!0}},data(){return{zoomIn:!0}},methods:{close(){this.zoomIn=!1,window.setTimeout((()=>{this.$emit("close")}),300)}}},d=p,u=o(1001),_=(0,u.Z)(d,m,c,!1,null,"3f1ea641",null),y=_.exports,f={name:"TmMasonry",components:{loader:h.Z,tmModal:y},props:{items:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},data(){return{selectedImg:null,showPhotoModal:!1}},computed:{computedWidth(){let t;return t=this.items.length?this.$refs.container.clientWidth:.9*window.innerWidth,t}},methods:{closeModal(){this.showPhotoModal=!1,document.body.style.overflow="auto"},onPhotoClick(t){this.selectedImg=t,this.showPhotoModal=!0,document.body.style.overflow="hidden"}}},v=f,w=(0,u.Z)(v,s,g,!1,null,"218e2ba0",null),j=w.exports,C={name:"Photos",components:{masonry:j},data(){return{imagesPerPage:12,imgsArr:[],loading:!1,page:0,urls:l}},watch:{page(t){this.getData(t)}},created(){window.addEventListener("scroll",this.onScroll),this.urls=l},async mounted(){await this.getData(0)},destroyed(){window.removeEventListener("scroll",this.onScroll)},methods:{async onScroll(){const t=window.scrollY>0;if(t&&this.imgsArr.length!==l.length){const t=Math.round(this.urls.length/this.imagesPerPage);if(!(this.page<t))return;this.page=this.page+1}},async getData(t){const e=[];let o,a=0;this.loading=!0,t>0&&(a=t*this.imagesPerPage);let i=a+this.imagesPerPage-1;i>this.urls.length-1&&(i=this.urls.length-1);for(let s=a;s<=i;s++){const t=n().get(`${window.location.origin}${l[s].url}`,{responseType:"arraybuffer"});e.push(t)}try{o=await Promise.all(e),o.forEach((t=>{const e=Buffer.from(t.data,"binary").toString("base64");this.imgsArr.push(e)}))}catch(r){return console.error("There was an error",r),void(this.loading=!1)}this.loading=!1}}},b=C,P=(0,u.Z)(b,a,i,!1,null,"24ccb484",null),k=P.exports}}]);