{"ast":null,"code":"import Loader from './generic/Loader.vue';\nimport axios from 'axios';\nexport default {\n  name: 'Home',\n  components: {\n    loader: Loader\n  },\n  data() {\n    return {\n      loading: false,\n      mainImage: null\n    };\n  },\n  computed: {\n    computedHeight() {\n      return window.innerHeight * 0.9;\n    }\n  },\n  beforeMount() {\n    window.setTimeout(() => this.getMainPhoto(), 500);\n  },\n  methods: {\n    async getMainPhoto() {\n      this.loading = true;\n      let response;\n      const request = axios.get(`${window.location.origin}/public-images/modern-min.png`, {\n        responseType: 'arraybuffer'\n      });\n      try {\n        response = await request;\n        this.mainImage = Buffer.from(response.data, 'binary').toString('base64');\n        this.loading = false;\n      } catch (e) {\n        console.error('There was an error', e);\n        this.loading = false;\n        return;\n      }\n      this.loading = false;\n    }\n  }\n};","map":{"version":3,"mappings":"AAmCA;AACA;AAEA;EACAA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACA;MACA;MACA;MACA;QACAC;MACA;MAEA;QACAC;QACA;QACA;MACA;QACAC;QACA;QACA;MACA;MAEA;IACA;EACA;AACA","names":["name","components","loader","data","loading","mainImage","computed","computedHeight","beforeMount","window","methods","responseType","response","console"],"sourceRoot":"src/components","sources":["Home.vue"],"sourcesContent":["<template>\n  <div>\n    <loader\n      v-if=\"loading\"\n      :height=\"computedHeight\"\n    />\n    <div\n      ref=\"home\"\n      class=\"home\"\n    >\n    <div \n      v-if=\"!loading && mainImage\"\n      class=\"background-image\"\n    >\n      <img\n        alt=\"tmstories main image, showing some of TimiÅŸoara's famous landmarks\"\n        :src=\"`data:image/png;base64, ${mainImage}`\"\n      />\n    </div>\n    <div\n      v-if=\"!loading\"\n      class=\"title-container animate__animated animate__slideInLeft\"\n    >\n      <h1 class=\"hero-title\">{{$t(`homePage.greeting`)}}</h1>\n    </div>\n    <div\n      v-if=\"mainImage\"\n      class=\"cover\"\n    />\n    </div>\n    <div class=\"opacity-screen\" />\n  </div>\n</template>\n\n<script>\nimport Loader from './generic/Loader.vue'\nimport axios from 'axios'\n\nexport default {\n  name: 'Home',\n  components: {\n    loader: Loader\n  },\n  data() {\n    return {\n      loading: false,\n      mainImage: null\n    }\n  },\n  computed: {\n    computedHeight() {\n      return window.innerHeight * 0.9\n    }\n  },\n  beforeMount() {\n    window.setTimeout(() => this.getMainPhoto(), 500);\n  },\n  methods: {\n    async getMainPhoto() {\n      this.loading = true;\n      let response;\n      const request = axios.get(`${window.location.origin}/public-images/modern-min.png`, {\n        responseType: 'arraybuffer'\n      })\n      \n      try {\n        response = await request;\n        this.mainImage = Buffer.from(response.data, 'binary').toString('base64')\n        this.loading = false;\n      } catch(e) {\n        console.error('There was an error', e);\n        this.loading = false;\n        return;\n      }\n      \n      this.loading = false;\n    }\n  }\n}\n</script>\n\n<style scoped lang='scss'>\n.home {\n  height: 100vh;\n  background-color: transparent;\n  display: grid;\n  grid-template-columns: 3rem auto;\n  grid-template-rows: 5% auto;\n}\n\n.title-container {\n  z-index: 12;\n  width: 25%;\n  grid-column-start: 2;\n  grid-row-start: 2;\n  display: flex;\n  align-items: center;\n}\n\n.background-image {\n  img {\n    width: 100vw;\n    height: 100vh;\n    object-fit: cover;\n    background-position: 100px 5px;\n  }\n}\n\n.cover {\n  position: fixed;\n  top: 0;\n  left: 2%;\n  background-color: $cyan;\n  transform: skew(-15deg);\n  height: 100vh;\n  width: 30rem;\n  opacity: 0.8;\n  z-index: 10;\n}\n\n.opacity-screen {\n  position: absolute;\n  top: 0;\n  left: 0;\n  opacity: 0.1;\n  background-color: #fff;\n  height: 100vh;\n  width: 100%;\n  z-index: 1;\n}\n\n.animate__animated.animate__fadeIn {\n  --animate-duration: 1s;\n}\n\n@media (max-width: 960px) {\n  .home {\n    grid-template-columns: 2rem auto;\n  }\n}\n\n@media (max-width: 600px) {\n  .cover {\n    width: 20rem;\n    height: 100vh;\n  }\n}\n\n@media (max-width: 500px) {\n  .home {\n    grid-template-columns: 1rem auto;\n  }\n}\n\n@media (max-width: 464px) {\n  .cover {\n    width: 15rem;\n    height: 100vh;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}